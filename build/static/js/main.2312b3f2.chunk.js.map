{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","nameFilter","onChange","handleFilterChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","personsToShow","map","person","key","name","number","onClick","handleDeletion","id","Notification","message","status","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNameFilter","setMessage","setStatus","filter","toLowerCase","includes","useEffect","personService","initialPersons","event","target","preventDefault","find","window","confirm","prevPerson","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2312b3f2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) =>\r\n    <div>\r\n        filter shown with <input value={props.nameFilter} onChange={props.handleFilterChange} />\r\n    </div>\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) =>\r\n    <form onSubmit={props.addPerson}>\r\n        <div>name: <input value={props.newName} onChange={props.handleNameChange} /></div>\r\n        <div>number: <input value={props.newNumber} onChange={props.handleNumberChange} /></div>\r\n        <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = (props) =>\r\n    <div>\r\n        {props.personsToShow.map((person) =>\r\n            <div key={person.name}>\r\n                {person.name} {person.number} <button onClick={() => props.handleDeletion(person.id)}>delete</button><br/>\r\n            </div>)}\r\n    </div>\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, status }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={`${status}`}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  export default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ nameFilter, setNameFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ status, setStatus] = useState(null)\n\n  const personsToShow = nameFilter === ''\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(nameFilter.toLowerCase()))\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setNameFilter(event.target.value)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.find(person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        const prevPerson = persons.find(person => person.name === newName)\n        personService\n          .update(prevPerson.id,\n            {\n              ...prevPerson,\n              number: newNumber\n            })\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id === returnedPerson.id ? returnedPerson : person))\n\n            setStatus('success')\n            setMessage(`Updated ${returnedPerson.name}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setStatus('error')\n            setMessage(`Information of ${prevPerson.name} has already been removed from server`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n            \n            setPersons(persons.filter(person => person.id !== prevPerson.id))\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName(\"\")\n          setNewNumber(\"\")\n\n          setStatus('success')\n          setMessage(`Added ${returnedPerson.name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleDeletionOf = (id) => {\n    if (window.confirm(`Delete ${persons.find(person => person.id === id).name}?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} status={status} />\n      \n      <Filter\n        nameFilter={nameFilter}\n        handleFilterChange={handleFilterChange}\n      />\n\n      <h2>Add a new Person</h2>\n      \n      <PersonForm\n        addPerson={addPerson} \n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons\n        personsToShow={personsToShow}\n        handleDeletion={handleDeletionOf}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}